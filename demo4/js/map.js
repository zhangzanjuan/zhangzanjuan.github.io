(function () {
    var allData = {
        "citys": [{
            "name": "静芯园",
            "value": [116.29812, 39.95931],
            "symbolSize": 4,
            "itemStyle": {
                "normal": {
                    "color": "#F58158"
                }
            }
        }, {
            "name": "望京",
            "value": [116.48548, 39.9484],
            "symbolSize": 4,
            "itemStyle": {
                "normal": {
                    "color": "#F58158"
                }
            }
        }, {
            "name": "武清",
            "value": [117.04443, 39.38415, 4],
            "symbolSize": 4,

            "itemStyle": {
                "normal": {
                    "color": "#F58158"
                }
            }
        }, {
            "name": "樊羊路",
            "value": [116.28625, 39.8585, 1],
            "symbolSize": 4,

            "itemStyle": {
                "normal": {
                    "color": "#F58158"
                }
            }
        }, {
            "name": "杜家坎",
            "value": [116.208667, 39.851977, 1],
            "symbolSize": 4,

            "itemStyle": {
                "normal": {
                    "color": "#F58158"
                }
            }
        }, {
            "name": "涿州",
            "value": [115.98062, 39.48622, 1],
            "symbolSize": 4,

            "itemStyle": {
                "normal": {
                    "color": "#F58158"
                }
            }
        }, {
            "name": "保定",
            "value": [115.482331, 38.867657, 32],
            "symbolSize": 3,
            "itemStyle": {
                "normal": {
                    "color": "#F58158"
                }
            }
        }, {
            "name": "定州",
            "value": [114.9902, 38.51623, 10],
            "symbolSize": 4,

            "itemStyle": {
                "normal": {
                    "color": "#F58158"
                }
            }
        }, {
            "name": "邢台北",
            "value": [114.508851, 37.0682, 1],
            "symbolSize": 4,

            "itemStyle": {
                "normal": {
                    "color": "#F58158"
                }
            }
        }, {
            "name": "冀南新区",
            "value": [114.48375, 36.60006, 2],
            "symbolSize": 4,

            "itemStyle": {
                "normal": {
                    "color": "#F58158"
                }
            }
        }, {
            "name": "安阳",
            "value": [114.352482, 36.103442, 3],
            "symbolSize": 4,

            "itemStyle": {
                "normal": {
                    "color": "#F58158"
                }
            }
        }, {
            "name": "鹤壁",
            "value": [114.295444, 35.748236, 2],
            "symbolSize": 4,

            "itemStyle": {
                "normal": {
                    "color": "#F58158"
                }
            }
        }, {
            "name": "新乡",
            "value": [113.883991, 35.302616, 9],
            "symbolSize": 4,

            "itemStyle": {
                "normal": {
                    "color": "#F58158"
                }
            }
        }, {
            "name": "郑州",
            "value": [113.665412, 34.757975, -19],
            "symbolSize": 4,

            "itemStyle": {
                "normal": {
                    "color": "#F58158"
                }
            }
        }, {
            "name": "新郑",
            "value": [113.73645, 34.3955, 14],
            "symbolSize": 4,

            "itemStyle": {
                "normal": {
                    "color": "#F58158"
                }
            }
        }, {
            "name": "许昌",
            "value": [113.826063, 34.022956, 1],
            "symbolSize": 4,

            "itemStyle": {
                "normal": {
                    "color": "#F58158"
                }
            }
        }, {
            "name": "漯河",
            "value": [114.026405, 33.575855, 1],
            "symbolSize": 4,

            "itemStyle": {
                "normal": {
                    "color": "#F58158"
                }
            }
        }, {
            "name": "驻马店",
            "value": [114.024736, 32.980169, -364],
            "symbolSize": 4,
            "itemStyle": {
                "normal": {
                    "color": "#F58158"
                }
            }
        }, {
            "name": "明港",
            "value": [114.12435, 32.10095, -2],
            "symbolSize": 4,

            "itemStyle": {
                "normal": {
                    "color": "#F58158"
                }
            }
        }, {
            "name": "信阳",
            "value": [114.075031, 32.123274, 1],
            "symbolSize": 4,

            "itemStyle": {
                "normal": {
                    "color": "#F58158"
                }
            }
        }, {
            "name": "孝感东",
            "value": [113.926655, 30.926423, 1],
            "symbolSize": 4,

            "itemStyle": {
                "normal": {
                    "color": "#F58158"
                }
            }
        }, {
            "name": "武汉西",
            "value": [114.298572, 30.584355, 2],
            "symbolSize": 4,

            "itemStyle": {
                "normal": {
                    "color": "#F58158"
                }
            }
        }, {
            "name": "咸宁",
            "value": [114.328963, 29.832798, 1],
            "symbolSize": 4,

            "itemStyle": {
                "normal": {
                    "color": "#58B3CC"
                }
            }
        }, {
            "name": "新店",
            "value": [113.90039, 29.72454, -2],
            "symbolSize": 4,

            "itemStyle": {
                "normal": {
                    "color": "#58B3CC"
                }
            }
        }, {
            "name": "岳阳",
            "value": [113.132855, 29.37029, 2],
            "symbolSize": 4,

            "itemStyle": {
                "normal": {
                    "color": "#58B3CC"
                }
            }
        }, {
            "name": "板仓",
            "value": [113.08071, 28.24595, 1],
            "symbolSize": 4,

            "itemStyle": {
                "normal": {
                    "color": "#58B3CC"
                }
            }
        }, {
            "name": "长沙",
            "value": [112.982279, 28.19409, -14],
            "symbolSize": 4,

            "itemStyle": {
                "normal": {
                    "color": "#58B3CC"
                }
            }
        }, {
            "name": "大浦",
            "value": [112.94833, 27.08093, 2],
            "symbolSize": 4,

            "itemStyle": {
                "normal": {
                    "color": "#58B3CC"
                }
            }
        }, {
            "name": "耒阳北",
            "value": [112.85998, 26.42132, 1],
            "symbolSize": 4,

            "itemStyle": {
                "normal": {
                    "color": "#58B3CC"
                }
            }
        }, {
            "name": "郴州",
            "value": [113.032067, 25.793589, 1],
            "symbolSize": 4,

            "itemStyle": {
                "normal": {
                    "color": "#58B3CC"
                }
            }
        }, {
            "name": "坪石",
            "value": [114.92279, 25.38612, 1],
            "symbolSize": 4,

            "itemStyle": {
                "normal": {
                    "color": "#58B3CC"
                }
            }
        }, {
            "name": "乳源",
            "value": [113.27734, 24.77803, 1],
            "symbolSize": 4,

            "itemStyle": {
                "normal": {
                    "color": "#58B3CC"
                }
            }
        }, {
            "name": "大镇",
            "value": [113.14299, 23.02877, -5],
            "symbolSize": 4,

            "itemStyle": {
                "normal": {
                    "color": "#58B3CC"
                }
            }
        }, {
            "name": "汤塘",
            "value": [113.53286, 23.87231, 2],
            "symbolSize": 4,

            "itemStyle": {
                "normal": {
                    "color": "#58B3CC"
                }
            }
        }, {
            "name": "广州",
            "value": [113.280637, 23.125178, 3],
            "symbolSize": 4,

            "itemStyle": {
                "normal": {
                    "color": "#58B3CC"
                }
            }
        }, {
            "name": "东莞",
            "value": [113.760234, 23.048884, 4],
            "symbolSize": 4,

            "itemStyle": {
                "normal": {
                    "color": "#58B3CC"
                }
            }
        }, {
            "name": "塘厦",
            "value": [114.10765, 22.822862, -1],
            "symbolSize": 4,

            "itemStyle": {
                "normal": {
                    "color": "#58B3CC"
                }
            }
        }, {
            "name": "深圳",
            "value": [114.085947, 22.547, 1],
            "symbolSize": 4,

            "itemStyle": {
                "normal": {
                    "color": "#58B3CC"
                }
            }
        }],
        "moveLines": [{
                "fromName": "静芯园",
                "toName": "望京",
                "coords": [
                    [116.29812, 39.95931],
                    [116.48548, 39.9484]
                ]
            }, {
                "fromName": "望京",
                "toName": "武清",
                "coords": [
                    [116.48548, 39.9484],
                    [117.04443, 39.38415]
                ]
            }, {
                "fromName": "武清",
                "toName": "樊羊路",
                "coords": [
                    [117.04443, 39.38415],
                    [116.28625, 39.8585]
                ]
            }, {
                "fromName": "樊羊路",
                "toName": "杜家坎",
                "coords": [
                    [116.28625, 39.8585],
                    [116.208667, 39.851977]
                ]
            }, {
                "fromName": "杜家坎",
                "toName": "涿州",
                "coords": [
                    [116.208667, 39.851977],
                    [115.98062, 39.48622]
                ]
            }, {
                "fromName": "涿州",
                "toName": "保定",
                "coords": [
                    [115.98062, 39.48622],
                    [115.482331, 38.867657]
                ]
            }, {
                "fromName": "保定",
                "toName": "定州",
                "coords": [
                    [115.482331, 38.867657],
                    [114.9902, 38.51623]
                ]
            }, {
                "fromName": "定州",
                "toName": "邢台北",
                "coords": [
                    [114.9902, 38.51623],
                    [114.508851, 37.0682]
                ]
            }, {
                "fromName": "邢台北",
                "toName": "冀南新区",
                "coords": [
                    [114.508851, 37.0682],
                    [114.48375, 36.60006]
                ]
            }, {
                "fromName": "冀南新区",
                "toName": "安阳",
                "coords": [
                    [114.48375, 36.60006],
                    [114.352482, 36.103442]
                ]
            }, {
                "fromName": "安阳",
                "toName": "鹤壁",
                "coords": [
                    [114.352482, 36.103442],
                    [114.295444, 35.748236]
                ]
            }, {
                "fromName": "鹤壁",
                "toName": "新乡",
                "coords": [
                    [114.295444, 35.748236],
                    [113.883991, 35.302616]
                ]
            }, {
                "fromName": "新乡",
                "toName": "郑州",
                "coords": [
                    [113.883991, 35.302616],
                    [113.665412, 34.757975]
                ]
            }, {
                "fromName": "郑州",
                "toName": "新郑",
                "coords": [
                    [113.665412, 34.757975],
                    [113.73645, 34.3955]
                ]
            }, {
                "fromName": "新郑",
                "toName": "许昌",
                "coords": [
                    [113.73645, 34.3955],
                    [113.826063, 34.022956]
                ]
            }, {
                "fromName": "许昌",
                "toName": "漯河",
                "coords": [
                    [113.826063, 34.022956],
                    [114.026405, 33.575855]
                ]
            }, {
                "fromName": "漯河",
                "toName": "驻马店",
                "coords": [
                    [114.026405, 33.575855],
                    [114.024736, 32.980169]
                ]
            }, {
                "fromName": "驻马店",
                "toName": "明港",
                "coords": [
                    [114.024736, 32.980169],
                    [114.12435, 32.10095]
                ]
            }, {
                "fromName": "明港",
                "toName": "信阳",
                "coords": [
                    [114.12435, 32.10095],
                    [114.075031, 32.123274]
                ]
            }, {
                "fromName": "信阳",
                "toName": "孝感东",
                "coords": [
                    [114.075031, 32.123274],
                    [113.926655, 30.926423]
                ]
            }, {
                "fromName": "孝感东",
                "toName": "武汉西",
                "coords": [
                    [113.926655, 30.926423],
                    [114.298572, 30.584355]
                ]
            },
            //  {
            //     "fromName": "武汉西",
            //     "toName": "咸宁",
            //     "coords": [
            //         [114.298572, 30.584355],
            //         [114.328963, 29.832798]
            //     ]
            // }, 
            {
                "fromName": "咸宁",
                "toName": "新店",
                "coords": [
                    [114.328963, 29.832798],
                    [113.90039, 29.72454]
                ]
            }, {
                "fromName": "新店",
                "toName": "岳阳",
                "coords": [
                    [113.90039, 29.72454],
                    [113.132855, 29.37029]
                ]
            }, {
                "fromName": "岳阳",
                "toName": "板仓",
                "coords": [
                    [113.132855, 29.37029],
                    [113.08071, 28.24595]
                ]
            }, {
                "fromName": "板仓",
                "toName": "长沙",
                "coords": [
                    [113.08071, 28.24595],
                    [112.982279, 28.19409]
                ]
            }, {
                "fromName": "长沙",
                "toName": "大浦",
                "coords": [
                    [112.982279, 28.19409],
                    [112.94833, 27.08093]
                ]
            }, {
                "fromName": "大浦",
                "toName": "耒阳北",
                "coords": [
                    [112.94833, 27.08093],
                    [112.85998, 26.42132]
                ]
            }, {
                "fromName": "耒阳北",
                "toName": "郴州",
                "coords": [
                    [112.85998, 26.42132],
                    [113.032067, 25.793589]
                ]
            }, {
                "fromName": "郴州",
                "toName": "坪石",
                "coords": [
                    [113.032067, 25.793589],
                    [114.92279, 25.38612]
                ]
            }, {
                "fromName": "坪石",
                "toName": "乳源",
                "coords": [
                    [114.92279, 25.38612],
                    [113.27734, 24.77803]
                ]
            }, {
                "fromName": "乳源",
                "toName": "大镇",
                "coords": [
                    [113.27734, 24.77803],
                    [113.14299, 23.02877]
                ]
            }, {
                "fromName": "大镇",
                "toName": "汤塘",
                "coords": [
                    [113.14299, 23.02877],
                    [113.53286, 23.87231]
                ]
            }, {
                "fromName": "汤塘",
                "toName": "广州",
                "coords": [
                    [113.53286, 23.87231],
                    [113.280637, 23.125178]
                ]
            }, {
                "fromName": "广州",
                "toName": "东莞",
                "coords": [
                    [113.280637, 23.],
                    [113.760234, 23.048884]
                ]
            }, {
                "fromName": "东莞",
                "toName": "塘厦",
                "coords": [
                    [113.760234, 23.048884],
                    [114.10765, 22.822862]
                ]
            }, {
                "fromName": "塘厦",
                "toName": "深圳",
                "coords": [
                    [114.10765, 22.822862],
                    [114.085947, 22.547]
                ]
            }
        ]
    };

    var option = {
        // title: {
        //     text: '站点图',
        //     left: 'center',
        //     textStyle: {
        //         color: '#fff',
        //     },
        // },
        // legend: {
        //     show: false,
        //     orient: 'vertical',
        //     top: 'bottom',
        //     left: 'right',
        //     data: ['地点', '线路'],
        //     textStyle: {
        //         color: '#fff',
        //     },
        // },
        // backgroundColor: '#013954',
        geo: {
            map: 'china',
            label: {
                emphasis: {
                    show: true,
                    color:'white'
                },
            },
            roam: true, //是否允许缩放
            itemStyle: {
                normal: {
                    color: 'rgba(51, 69, 89, .5)', //地图背景色
                    borderColor: '#516a89', //省市边界线00fcff 516a89
                    borderWidth: 1,
                },
                emphasis: {
                    color: 'rgba(37, 43, 61, .5)', //悬浮背景
                },
            },
        },
        series: [{
                name: '地点',
                type: 'effectScatter',
                coordinateSystem: 'geo',
                zlevel: 2,
                rippleEffect: { //涟漪特效
                    brushType: 'stroke', //波纹绘制方式 stroke，fill
                    period: 4, //动画时间，值越小速度越快
                    scale: 4, //波纹圆环最大显示，值越大波纹越大
                },
                label: {
                    emphasis: {
                        show: true,
                        position: 'right',
                        formatter: '{b}',
                    },
                },
                symbolSize: 4,
                showEffectOn: 'render',
                itemStyle: {
                    normal: {
                        color: '#46bee9',
                    },
                },
                data: allData.citys,
            },
            {
                name: '线路',
                type: 'lines',
                coordinateSystem: 'geo',
                zlevel: 2,
                large: true,
                effect: {
                    show: true,
                    constantSpeed: 30,
                    symbol: 'arrow', //箭头图标，pin 圆点
                    symbolSize: 3, //图标大小
                    trailLength: 0, //特效尾迹长度[0,1]值越大，尾迹越长重
                },
                lineStyle: {
                    normal: {
                        color: new echarts.graphic.LinearGradient(
                            0,
                            0,
                            0,
                            1,
                            [{
                                    offset: 0,
                                    color: '#F58158',

                                },
                                {
                                    offset: 1,
                                    color: '#58B3CC',

                                },
                            ],
                            false
                        ),
                        width: 4, //尾迹线条宽度
                        opacity: 0.2, //尾迹线条透明度
                        curveness: 0.2, //尾迹线条曲直度
                    },
                },
                data: allData.moveLines,
            },
        ],
    };
    var myChart = echarts.init(document.querySelector(".map"));
    myChart.setOption(option);
    // 监听浏览器缩放，图表对象调用缩放resize函数
    window.addEventListener("resize", function () {
        myChart.resize();
    });
})();